<!DOCTYPE html>
<html lang="en">
<head>
    <script src="/scripts/breadcrumbs.js"></script>
    <script>
        fetch('/head.html')
          .then(response => response.text())
          .then(data => {
            document.head.innerHTML = data;

            document.title = "Create NCR"

            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = '/css/create.css';
            const link2 = document.createElement('link');
            link2.rel = 'stylesheet';
            link2.href = '/css/breadcrumbs.css';
            const toasterLink = document.createElement('link');
            toasterLink.rel= 'stylesheet';
            toasterLink.href = "https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css";
            
            document.head.appendChild(link);
            document.head.appendChild(link2);
            document.head.appendChild(toasterLink);
          });
      </script>
      <title>Create new NCR</title>
</head>

<body class="d-flex flex-column min-vh-100">

    <div class="">
        <div class="title-group">
            <h1 class="">Create An NCR</h1>
            <button onclick="window.location.href='/NCRLog'" class="cta-btn-danger btn-Cancel" id="btnCancel">Cancel</button>
        </div>

        <form action="#" id="ncr-form">

            <div class="ncrNumber"> <!-- NCR Number above feildset since it is the same for all 3 portions-->
                <div class="inner-wrapper">
                    <label for="ncrNumber">NCR Number</label>
                    <input aria-label="NCR Number" type="text" name="ncrNumber" id="ncrNumber" disabled value="0000011">
                </div>
                <div id="ncrNumberValidation" class="text-danger"></div>
            </div>

            <fieldset>
                <!-- Quality Portion -->
                <div class="accordion" id="qaAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="qaHeading">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#qaCollapse" aria-expanded="false" aria-controls="qaCollapse">
                                Quality Portion
                            </button>
                        </h2>
                        <div id="qaCollapse" class="accordion-collapse collapse" aria-labelledby="qaHeading" data-bs-parent="#qaAccordion">
                            <div class="accordion-body">                
                                <div>
                                <div class="inner-wrapper">
                                    <label for="ipa"><span class="text-danger">*</span> Identify Process Applicable:</label> <!-- ipa stands for Identify Process Applicable -->
                                    <select  aria-label="Identify Process Applicable" type="text" name="ipa" id="ipa">
                                        <option value="-1" disabled selected>Select a Process</option>
                                        <option value="0">Supplier / Rec. Insp.</option>
                                        <option value="1">WIP (Production Order)</option>
                                    </select>
                                </div>
                                <div id="ipaValidation" class="text-danger"></div>
                            </div>

                            <div> <!-- Use chat gpt to generate select options-->
                                <div class="inner-wrapper">
                                    <label for="descriptionProduct"><span class="text-danger">*</span> Description of Product (including SAP No.):</label>
                                    <select  aria-label="Description of Product (including SAP No.):" name="descriptionProduct" id="descriptionProduct">
            <!-- Options generated by chatGPT and was documented. Prompt: Generate 15 select options with fake products for a fake computer company. Generate the names in the following format: productName - (5 random numbers)-->
                                        <option value="0" disabled selected>Select a product</option>
                                        <option value="1020-1881">20mm screw</option>
                                        <option value="1102-1837">30mm screw</option>
                                        <option value="4842-2582">10mm nail</option>
                                        <option value="9472-8482">30mm nail</option>
                                        <option value="3741-4723">30mm bolt</option>
                                        <option value="8562-7452">10mm nut</option>
                                        <option value="8668-1642">sheet metal</option>
                                        <option value="7154-1648">aluminum plate</option>
                                        <option value="7528-1746">steel plate</option>
                                        <option value="7751-7741">plastic casing</option>
                                        <option value="8122-1354">metal casing</option>
                                        <option value="9834-7525">metal bracket</option>
                                        <option value="2983-3372">2x4 wood</option>
                                        <option value="4563-9382">2x6 wood</option>
                                        <option value="7562-3558">4x8 wood</option>
                                        <option value="8172-3847">4x10 wood</option>
                                        <option value="9281-3842">plywood</option>
                                        <option value="9182-9931">mdf board</option>
                                        <option value="7562-1826">particle board</option>
                                    </select>
                                </div>
                                <div id="descriptionProductValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper"> <!-- Use chat gpt to generate select options-->
                                    <label for="supplierName"><span class="text-danger">*</span> Supplier Name:</label>
                                    <select  aria-label="Supplier Name" name="supplierName" id="supplierName">
                                        <option value="" disabled selected>Select a Supplier</option>
                                        <option value="1">Green Supply Logistics</option>
                                        <option value="2">Lumberjack Supply Co.</option>
                                        <option value="3">Metalworks Inc.</option>
                                        <option value="4">Plastic Parts Co.</option>
                                        <option value="5">Screws and Bolts Inc.</option>
                                        <option value="6">Nails and Rivets Co.</option>
                                        <option value="7">Bolt Makers Ltd.</option>
                                        <option value="8">John & Dale's Warehouse</option>
                                        <option value="9">Damien's Hardware</option>
                                    </select> 
                                </div>
                                <div id="supplierNameValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="productNum"><span class="text-danger">*</span> PO or Prod. No.:</label>
                                    <input aria-label="PO or Prod. No." type="number" name="productNum" id="productNum">
                                </div>
                                <div id="productNumValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="salesOrderNum"><span class="text-danger">*</span> Sales Order Number:</label>
                                    <input  aria-label="Sales Order Number" type="number" name="salesOrderNum" id="salesOrderNum">
                                </div>
                                <div id="salesOrderNumValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="quantityRec"><span class="text-danger">*</span> Quantity Received:</label>
                                    <input  aria-label="Quantity Received" type="number" name="quantityRec" id="quantityRec">
                                </div>
                                <div id="quantityRecValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="quantityDef"><span class="text-danger">*</span> Quantity Defective:</label>
                                    <input aria-label="Quantity Defective" type="number" name="quantityDef" id="quantityDef">
                                </div>
                                <div id="quantityDefValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="descriptionDefect"><span class="text-danger">*</span> Description of Defect:</label>
                                    <textarea aria-label="Description of Defect" name="descriptionDefect" id="descriptionDefect" placeholder="Please use as much detail as possible describe the defect"></textarea>
                                </div>
                                <div id="descriptionDefectValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="chkNonconforming"><span class="text-danger">*</span> Item marked Nonconforming</label>
                                    <input type="checkbox" aria-label="Item makred Nonconforming" id="chkNonconforming" name="chkNonconforming"
                                    checked="true" readonly="true">
                                </div>
                                <div id="chkNonconformingValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="qaName"><span class="text-danger">*</span> Quality Representative's Name:</label>
                                    <input type="text" aria-label="Quality Representative's Name" id="qaName" name="qaName">
                                </div>
                                <div id="qaNameValidation" class="text-danger"></div>
                            </div>

                            <div> <!-- Should default to today-->
                                <div class="inner-wrapper">
                                    <label for="qaDate"><span class="text-danger">*</span> Date:</label>
                                    <input type="date" aria-label="Date" id="qaDate" name="qaDate"> 
                                </div>
                                <div id="qaDateValidation" class="text-danger"></div>
                            </div>

                            <div class="no-validate">
                                <div class="inner-wrapper">
                                    <label class="custom-file-upload" for="picture">Photo of Defect</label>
                                    <input  aria-label="Defect picture"  type="file" name="picture" id="picture">
                                </div>
                                <div id="pictureValidation" class="text-danger"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

                <!-- Engineering Portion-->

                <div class="accordion" id="engineeringAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEngineering">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEngineering" aria-expanded="false" aria-controls="collapseEngineering">
                                Engineering Portion
                            </button>
                        </h2>
                        <div id="collapseEngineering" class="accordion-collapse collapse" aria-labelledby="headingEngineering" data-bs-parent="#engineeringAccordion">
                            <div class="accordion-body">                
                                <div> <!-- 4 Checkboxes with different values, the engineer has to select only one of the checkboxes-->
                                    <div class="inner-wrapper"> 
                                        <label for="selReview"><span class="text-danger">*</span> Review by CF Engineering:</label>
                                        <select aria-label="Review by CF Engineering" id="selReview" name="selReview">
                                            <option value="0" disabled selected>Select an option</option>
                                            <option value="1">Use as is</option>
                                            <option value="2">Repair</option>
                                            <option value="3">Rework</option>
                                            <option value="4">Scrap</option>
                                        </select>
                                    </div>
                                    <div id="chkReviewValidation" class="text-danger"></div>
                                </div>

                                <div>
                                    <div class="inner-wrapper">
                                        <label for="disposition"><span class="text-danger">*</span> Disposition:</label>
                                        <textarea name="disposition" id="disposition"
                                        placeholder="Sequence of work steps required when 'repair' or 'rework' indicated"></textarea>
                                    </div>
                                    <div id="dispositionValidation" class="text-danger"></div>
                                </div>

                                <div class="no-validate">
                                    <div class="inner-wrapper">
                                        <label for="requireNotification">Does the Customer Require Notifications?</label>
                                        <input type="checkbox" value="yes" id="requireNotification" name="requireNotification">
                                    </div>
                                </div>

                                <div class="no-validate">
                                    <div class="inner-wrapper">
                                        <label for="requireUpdating">Does the Drawing Require Updating?</label>
                                        <input type="checkbox" value="yes" id="requireUpdating" name="requireUpdating">
                                    </div>
                                </div>

                                <div class="no-validate">
                                    <div class="inner-wrapper">
                                        <label for="originalRevNum">Original Rev. Number:</label>
                                        <input aria-label="Original Rev. Number" type="number" id="originalRevNum" name="originalRevNum">
                                    </div>
                                </div>

                                <div class="no-validate">
                                    <div class="inner-wrapper">
                                        <label for="updatedRevNum">Updated Rev. Number:</label>
                                        <input aria-label="Updated Rev. Number" type="number" id="updatedRevNum" name="updatedRevNum">
                                    </div>
                                </div>

                                <div class="no-validate">
                                    <div class="inner-wrapper">
                                        <label for="nameOfEngineer">Name of Engineer:</label>
                                        <input aria-label="Name of Engineer" type="text" id="nameOfEngineer" name="nameOfEngineer">
                                    </div>
                                </div>

                                <div class="no-validate">
                                    <div class="inner-wrapper">
                                        <label for="revisionDate">Revision Date:</label>
                                        <input aria-label="Revision Date" type="date" id="revisionDate" name="revisionDAte">
                                    </div>
                                </div>

                                <div>
                                    <div class="inner-wrapper">
                                        <label for="engineering"><span class="text-danger">*</span> Engineering:</label>
                                        
                                        <input aria-label="Engineering" type="text" id="engineering" name="engineering">
                                    </div>
                                    <div id="engineeringValidation" class="text-danger"></div>
                                </div>

                                <div>
                                    <div class="inner-wrapper">
                                        <label for="engineeringDate"><span class="text-danger">*</span> Date:</label>
                                        <input aria-label="Engineering Date" type="date" id="engineeringDate" name="engineeringDate">
                                    </div>
                                    <div id="engineeringDateValidation" class="text-danger"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Purchasing Portion -->
                <div class="accordion" id="purchasingAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingPurchasing">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePurchasing" aria-expanded="false" aria-controls="collapsePurchasing">
                                Purchasing Portion
                            </button>
                        </h2>
                    <div id="collapsePurchasing" class="accordion-collapse collapse" aria-labelledby="headingPurchasing" data-bs-parent="#purchasingAccordion">
                        <div class="accordion-body">                
                            <div>
                                <div class="inner-wrapper">
                                    <label for="decision"><span class="text-danger">*</span> Decision:</label>
                                    <select aria-label="Decision" name="decision" id="decision">
                                        <option value="0" disabled selected>Select a decision</option>
                                        <option value="ReturnForRework">Return For Rework</option>
                                        <option value="ReturnForReplacement">Return For Replacement</option>
                                        <option value="ReworkInHouse">Rework In-House</option>
                                        <option value="ScrapInHouse">Scrap In-House</option>
                                        <option value="DeferToEng">Defer to Engineering</option>
                                    </select>
                                </div>
                                <div id="decisionValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="carRaised"><span class="text-danger">*</span> CAR Raised:</label>
                                    <input type="checkbox" id="carRaised" name="carRaised" value="true">
                                </div>
                                <div id="carRaisedValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="carNo"><span class="text-danger">*</span> CAR Number:</label>
                                    <input aria-label="CAR No." type="text" name="carNo" id="carNo">
                                </div>
                                <div id="carNoValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="followUpRequired"><span class="text-danger">*</span> Follow-Up Required:</label>
                                    <input type="checkbox" id="followUpRequired" name="followUpRequired" value="true">
                                </div>
                                <div id="followUpRequiredValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="followUpType"><span class="text-danger">*</span> Follow-Up Type:</label>
                                    <input type="text" aria-label="Follow-Up Type" name="followUpType" id="followUpType">
                                </div>
                                <div id="followUpTypeValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="signedBy"><span class="text-danger">*</span> Signed By:</label>
                                    <input type="text" aria-label="Signed By" name="signedBy" id="signedBy">
                                </div>
                                <div id="signedByValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="dateSigned"><span class="text-danger">*</span> Date Signed:</label>
                                    <input type="date" aria-label="Date Signed" name="dateSigned" id="dateSigned">
                                </div>
                                <div id="dateSignedValidation" class="text-danger"></div>
                            </div>

                            <div>
                                <div class="inner-wrapper">
                                    <label for="reInspectAcceptable"><span class="text-danger">*</span> Re-Inspect Acceptable:</label>
                                    <input type="checkbox" aria-label="Re-Inspect Acceptable" name="reInspectAcceptable" id="reInspectAcceptable">
                                </div>
                                <div id="reInspectAcceptableValidation" class="text-danger"></div>
                            </div>
                            
                            <div>
                                <div class="inner-wrapper">
                                    <label for="newNCRNumber"><span class="text-danger">*</span> New NCR Number:</label>
                                    <input type="number" aria-label="New NCR Number" name="newNCRNumber" id="newNCRNumber">
                                </div>
                                <div id="newNCRNumberValidation" class="text-danger"></div>
                            </div>
                            
                            <div>
                                <div class="inner-wrapper">
                                    <label for="qualityDept"><span class="text-danger">*</span> Quality Department:</label>
                                    <input type="text" aria-label="Quality Department" name="qualityDept" id="qualityDept">
                                </div>
                                <div id="qualityDeptValidation" class="text-danger"></div>
                            </div>
                            
                            <div>
                                <div class="inner-wrapper">
                                    <label for="signedByUser"><span class="text-danger">*</span> Signed By User:</label>
                                    <input type="number" aria-label="Signed By User" name="signedByUser" id="signedByUser">
                                </div>
                                <div id="signedByUserValidation" class="text-danger"></div>
                            </div>                

                            <div class="button-group no-validate">
                                <button type="submit" class="cta-btn-primary" id="btn-submit">Create NCR</button>
                                <button type="submit" class="cta-btn-secondary" id="btn-save">Save NCR</button>
                                <!-- <button type="button" class="cta-btn-danger" id="btnClearAll">Clear Form</button> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </fieldset>
        </form>
    </div>




    <div id="footer" class="footer mt-auto"></div>
    <!-- </div> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <!-- <script src="scripts/validation.js"></script> -->
    <script src="/scripts/navbar.js"></script>
    <script src="/scripts/CreateNCR.js"></script>
    <script src="/scripts/role-restrictions.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

</body>
</html>