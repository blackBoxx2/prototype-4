(()=>{"use strict";var e,t={199:function(e,t,n){var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DataLib=void 0;var s,a=n(721),i=n(508);!function(e){var t=function(e){function t(){return e.call(this)||this}return r(t,e),t}(a.Helpers.DatabaseBase),n=function(){function e(){}return e.Failure=function(){return{Success:!1,Data:null}},e.Success=function(e){return{Success:!0,Data:e}},e}();e.DBPayload=n,e.ReadDataFromLocalStorage=function(){var e,o=null==(e=localStorage.getItem("Database"))?n.Failure():n.Success(JSON.parse(e));if(0==o.Success){console.log("SEEDING DATA. THIS MEANS THE DATABASE HAS BEEN DELETED OR IS MISSING."),o.Data=new t;var r=function(){var e=[],t=1;return["John Doe","Jane Doe","Frank Smith","Carl Davis","Sue Johnson","Mike Abernacle","Linda Smith","Tommy Bobbert","Sally McNichols","Jill Hildon","Bobby Shmurda","Kurt Kristie","Cathy Karl","Richard James","Marty McFly","Doc Brown","James Bond","Jason Bourne","Clark Kent","Bruce Wayne","Peter Parker","Tony Stark","Steve Rogers","Natasha Romanoff","Bruce Banner","Fred Flintstone","Barney Rubble","George Jetson","Homer Simpson","Marge Simpson","Bart Simpson","Lisa Simpson","Peter Griffin","Lois Griffin","Meg Griffin","Chris Griffin"].forEach((function(n){var o=new i.Models.User;o.ID=t,o.DigitalSignature=n,o.Email=n.toLowerCase().replace(" ","_")+"@email.com";var r=[],s=Math.random(),a=Math.random(),l=Math.random();if(o.LastLoggedIn=l>=.75?new Date("2015-12-05T08:00:00"):l>=.5?new Date("2019-02-09T12:30:00"):l>=.25?new Date("2022-12-23T15:30:00"):new Date("2024-12-05T13:45:00"),s>.66?r.push(i.Models.Role.Purchasing):s>.33?r.push(i.Models.Role.Engineer):r.push(i.Models.Role.QualityAssurance),a>.9)for(;r.length<3;){var u=Math.floor(3*Math.random())+1;r.includes(u)||r.push(u)}else if(a>.8)for(;r.length<2;)u=Math.floor(3*Math.random())+1,r.includes(u)||r.push(u);(Math.random()>.95||r.includes(i.Models.Role.Admin))&&(r=[i.Models.Role.Admin,i.Models.Role.Engineer,i.Models.Role.Purchasing,i.Models.Role.QualityAssurance]),o.Roles=new i.Models.RoleClaim(r.includes(i.Models.Role.QualityAssurance),r.includes(i.Models.Role.Engineer),r.includes(i.Models.Role.Purchasing),r.includes(i.Models.Role.Admin)),e.push(o),t++})),0==e.filter((function(e){return e.Roles.QA})).length&&(e[Math.floor(e.length*Math.random())].Roles.QA=!0),0==e.filter((function(e){return e.Roles.Engineer})).length&&(e[Math.floor(e.length*Math.random())].Roles.Engineer=!0),0==e.filter((function(e){return e.Roles.Purchasing})).length&&(e[Math.floor(e.length*Math.random())].Roles.Purchasing=!0),0==e.filter((function(e){return e.Roles.Admin})).length&&(e[Math.floor(e.length*Math.random())].Roles.Admin=!0),e}();if(null==r)return n.Failure();sessionStorage.setItem("UsersTemp",JSON.stringify(r)),console.log("Users seeded");var s=function(){var e=1,t=[];return["Green Supply Logistics","Lumberjack Supply Co.","Metalworks Inc.","Plastic Parts Co.","Screws and Bolts Inc.","Nails and Rivets Co.","Bolt Makers Ltd.","John & Dale's Warehouse","Damien's Hardware"].forEach((function(n){var o=new i.Models.Supplier;o.ID=e,o.Name=n,e++,t.push(o)})),t}();if(null==s)return n.Failure();sessionStorage.setItem("SuppliersTemp",JSON.stringify(s)),console.log("Suppliers seeded");var a=function(){var e=["Scratched","Dented","Cracked","Missing Part","Discoloration","Misalignment","Incorrect Part","Poor paint quality","Poor weld quality","Poor assembly quality","Poor machining quality","Poor casting quality"],t={"1020-1881":"20mm screw","1102-1837":"30mm screw","4842-2582":"10mm nail","9472-8482":"30mm nail","3741-4723":"30mm bolt","8562-7452":"10mm nut","8668-1642":"sheet metal","7154-1648":"aluminum plate","7528-1746":"steel plate","7751-7741":"plastic casing","8122-1354":"metal casing","9834-7525":"metal bracket","2983-3372":"2x4 wood","4563-9382":"2x6 wood","7562-3558":"4x8 wood","8172-3847":"4x10 wood","9281-3842":"plywood","9182-9931":"mdf board","7562-1826":"particle board"},n=["12342817","23455436","34563432","14562172","25122678","86788389","72314890","89045136","90010682","02981233","12312948","23434789","34561890","45678901","56789012","02746357","31375413","89129741","90129256","22234567","14647571","09356743","02083273","12746367","30182732","31234574","29841621"],o=JSON.parse(sessionStorage.getItem("UsersTemp")||"[]");if(0==o.length)throw"SEEDING FAILURE\n\nUsers not seeded before QA";if(0==(o=o.filter((function(e){return e.Roles.QA}))).length)throw"SEEDING FAILURE\n\nNo members of QA";for(var r=JSON.parse(sessionStorage.getItem("SuppliersTemp")||"[]"),s=[],a=new Date("2020-01-01"),l=0;l<n.length;l++){var u;u=Math.random()>.5?i.Models.Process.SupplierOrRecInsp:i.Models.Process.WIP;var c=Math.floor(Math.random()*Object.keys(t).length),g=Object.keys(t)[c],d=n[l],h=r[Math.floor(Math.random()*r.length)].ID,f=t[g],p=e[Math.floor(Math.random()*e.length)],S=Math.floor(100*Math.random()),R=Math.floor(Math.random()*S),m=o[Math.floor(Math.random()*o.length)].ID,E=a,D=new i.Models.QualityAssurance(u,g,d,h,f,p,S,R,m,E);D.ID=l+1;var v=new Date(a);v.setDate(a.getDate()+8),a=v,s.push(D)}return s}();sessionStorage.setItem("QA",JSON.stringify(a)),console.log("QA Seeded");var l=function(){var e=sessionStorage.getItem("QA");if(null==e)return console.log("WTF!"),null;var t=JSON.parse(sessionStorage.getItem("UsersTemp")||"[]");if(0==t.length)throw"SEEDING FAILURE\n\nUsers not seeded before ENG";if(0==(t=t.filter((function(e){return e.Roles.Engineer}))).length)throw"SEEDING FAILURE\n\nNo members of ENG";for(var n=JSON.parse(e),o=[],r=0;r<Math.floor(n.length/2);r++){var s,a=Math.random();s=a>.75?i.Models.Review.UseAsIs:a>.5?i.Models.Review.Repair:a>.25?i.Models.Review.Rework:i.Models.Review.Scrap;var l;l=!(Math.random()>.5);var u,c=Math.floor(445*Math.random()),g="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.".slice(0,c);u=Math.random()>.5;var d=t[Math.floor(Math.random()*t.length)].ID,h=new Date(n[r].DateSigned);h.setDate(h.getDate()+1);var f=new i.Models.Engineering(s,l,g,u,"1","1",d,h);f.ID=r+1,o.push(f)}return o}();if(null==l)return n.Failure();sessionStorage.setItem("Engineering",JSON.stringify(l)),console.log("Engineering Seeded");var u=function(){var e=JSON.parse(sessionStorage.getItem("Engineering")||"[]");if(0==e.length)return console.log("WTF!"),null;var t=JSON.parse(sessionStorage.getItem("UsersTemp")||"[]");if(0==t.length)throw"SEEDING FAILURE\n\nUsers not seeded before PUR";if(0==(t=t.filter((function(e){return e.Roles.Purchasing}))).length)throw"SEEDING FAILURE\n\nNo members of PUR";for(var n=[],o=0;o<Math.floor(e.length/2);o++){var r=!1;Math.random()>.5&&(r=!0);var s=null;r&&(s="CAR-"+Math.floor(1e3*Math.random()));var a,l=Math.random();a=l>.75?i.Models.Decision.ReturnToSupplier:l>.5?i.Models.Decision.ReworkInHouse:l>.25?i.Models.Decision.ScrapInHouse:i.Models.Decision.DeferToEng;var u,c="";if(u=!(Math.random()>.5)){var g=Math.random();c=g>.75?"Inquiry":g>.5?"Correction":g>.25?"Verification":"Other"}var d=t[Math.floor(Math.random()*t.length)].ID,h=new Date(e[o].DateSigned);h.setDate(h.getDate()+1);var f=new i.Models.Purchasing(a,r,s,u,c,!0,null,"Purchasing",d,h);f.ID=o+1,n.push(f)}return n}();if(null==u)return n.Failure();sessionStorage.setItem("Purchasing",JSON.stringify(u)),console.log("Purchasing Seeded");var c=function(){var e=JSON.parse(sessionStorage.getItem("QA")||"[]"),t=JSON.parse(sessionStorage.getItem("Engineering")||"[]"),n=JSON.parse(sessionStorage.getItem("Purchasing")||"[]"),o=[];if(0==e.length||0==t.length||0==n.length)return console.log("WTF!"),null;for(var r=0;r<e.length;r++){var s,a=r+1,l=e[r].ID,u=null==t[r]?null:t[r].ID,c=null==n[r]?null:n[r].ID;s=null==u?i.Models.Status.Engineering:null==c?i.Models.Status.Purchasing:i.Models.Status.Closed;var g=new i.Models.NCRLog(a,l,u,c,s);g.ID=r+1,o.push(g)}return o}();if(null==c)return n.Failure();console.log("NCRLog Seeded"),o.Data.QualityAssurances=a,o.Data.Engineerings=l,o.Data.Purchasings=u,o.Data.NCRLogs=c,o.Data.Users=r,o.Data.Suppliers=s,localStorage.setItem("Database",JSON.stringify(o.Data)),console.log("Database saved to LocalStorage")}return o.Success=!0,o}}(s||(t.DataLib=s={}))},721:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Helpers=void 0,function(e){e.DatabaseBase=function(){this.QualityAssurances=[],this.Engineerings=[],this.Purchasings=[],this.NCRLogs=[],this.Users=[],this.Suppliers=[]}}(n||(t.Helpers=n={}))},508:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0,function(e){var t;(t=e.Process||(e.Process={})).SupplierOrRecInsp="Supplier / Rec. Insp.",t.WIP="WIP (Production Order)";var n;e.Supplier=function(){},(n=e.Role||(e.Role={}))[n.QualityAssurance=1]="QualityAssurance",n[n.Engineer=2]="Engineer",n[n.Purchasing=3]="Purchasing",n[n.Admin=4]="Admin";e.User=function(){};e.RoleClaim=function(e,t,n,o){this.QA=e,this.Engineer=t,this.Purchasing=n,this.Admin=o};var o;e.QualityAssurance=function(e,t,n,o,r,s,a,i,l,u){this.ID=0,this.Process=e,this.ProductNo=t,this.OrderNo=n,this.SupplierID=o,this.ItemDescription=r,this.DefectDescription=s,this.QuantityReceived=a,this.QuantityDefective=i,this.SignedByUser=l,this.DateSigned=u},(o=e.Review||(e.Review={})).UseAsIs="Use as Is",o.Repair="Repair",o.Rework="Rework",o.Scrap="Scrap";var r;e.Engineering=function(e,t,n,o,r,s,a,i){this.ID=0,this.Review=e,this.NotifyCustomer=t,this.Disposition=n,this.UpdateDrawing=o,this.OriginalRevNumber=r,this.LatestRevNumber=s,this.SignedByUser=a,this.DateSigned=i},(r=e.Decision||(e.Decision={})).ReturnToSupplier="Return to Supplier",r.ReworkInHouse="Rework In-House",r.ScrapInHouse="Scrap In-House",r.DeferToEng="Defer to Engineering";var s;e.Purchasing=function(e,t,n,o,r,s,a,i,l,u){this.ID=0,this.Decision=e,this.CARRaised=t,this.CARNo=n,this.FollowUpRequired=o,this.FollowUpType=r,this.ReInspectAcceptable=s,this.NewNCRNumber=a,this.QualityDept=i,this.SignedByUser=l,this.DateSigned=u},(s=e.Status||(e.Status={}))[s.Engineering=0]="Engineering",s[s.Purchasing=1]="Purchasing",s[s.Closed=2]="Closed";e.NCRLog=function(e,t,n,o,r){this.ID=0,this.NCRNumber=e,this.QualityAssuranceID=t,this.EngineeringID=n,this.PurchasingID=o,this.Status=r}}(n||(t.Models=n={}))},651:function(e,t,n){var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseLib=void 0;var s,a=n(199);!function(e){var t=function(){function e(){}return e.prototype.validate=function(){for(var e in this.valid=!0,this)if(Object.prototype.hasOwnProperty.call(this,e)&&"valid"!==e&&!0===this[e]){this.valid=!1;break}return this.valid},e.prototype.getMessage=function(){var e="";for(var t in this)Object.prototype.hasOwnProperty.call(this,t)&&this[t]&&"valid"!=t&&(e+="".concat(t," is missing or invalid\n"));return""==e&&(e="Validation successful"),e},e}(),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(t),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(t),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(t),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(t);function l(e){return null==e||null==e||""==e}var u=function(){function e(){var e=a.DataLib.ReadDataFromLocalStorage();if(!e.Success)throw"DATABASE CREATION FAILED";this.tables=e.Data}return e.get=function(){return this.Instance||(console.log("Creating new Database instance, attempting read from localStorage"),e.Instance=new e),e.Instance},e.prototype.ReSeed=function(){localStorage.removeItem("Database");var e=a.DataLib.ReadDataFromLocalStorage();if(!e.Success)throw"DATABASE RESEED FAILED";this.tables=e.Data,console.log("DATABASE RESEEDED SUCCESSFULLY")},e.prototype.ValidateQA=function(e){var t=new n;return l(e.Process)&&(t.process=!0),l(e.ProductNo)&&(t.productNo=!0),l(e.OrderNo)&&(t.orderNo=!0),l(e.SupplierID)&&(t.supplierID=!0),l(e.ItemDescription)&&(t.itemDescription=!0),l(e.DefectDescription)&&(t.defectDescription=!0),(null==e.QuantityReceived||e.QuantityReceived<=0)&&(t.quantityReceived=!0),(null==e.QuantityDefective||e.QuantityDefective<=0)&&(t.quantityDefective=!0),l(e.SignedByUser)&&(t.signedBy=!0),l(e.DateSigned)&&(t.dateSigned=!0),t.validate(),t},e.prototype.ValidateENG=function(e){var t=new o;return l(e.Review)&&(t.review=!0),null==e.NotifyCustomer&&(t.notifyCustomer=!0),l(e.Disposition)&&(t.disposition=!0),null==e.UpdateDrawing&&(t.updateDrawing=!0),l(e.OriginalRevNumber)&&(t.originalRevNumber=!0),l(e.SignedByUser)&&(t.signedBy=!0),l(e.DateSigned)&&(t.dateSigned=!0),t.validate(),t},e.prototype.ValidatePUR=function(e){var t=new s;return l(e.Decision)&&(t.decision=!0),null==e.CARRaised&&(t.carRaised=!0),1==e.CARRaised&&l(e.CARNo)&&(t.carNo=!0),null==e.FollowUpRequired&&(t.followUpRequired=!0),1==e.FollowUpRequired&&l(e.FollowUpType)&&(t.followUpType=!0),l(e.ReInspectAcceptable)&&(t.reInspectAcceptable=!0),0==e.ReInspectAcceptable&&(null==e.NewNCRNumber||e.NewNCRNumber<=0)&&(t.newNCRNumber=!0),l(e.QualityDept)&&(t.qualityDept=!0),l(e.SignedByUser)&&(t.signedBy=!0),l(e.DateSigned)&&(t.dateSigned=!0),t.validate(),t},e.prototype.ValidateNCR=function(e){var t=new i;return(null==e.NCRNumber||e.NCRNumber<=0)&&(t.ncrNumber=!0),null==e.QualityAssuranceID&&(t.qualityAssurance=!0),null==e.Status&&(t.status=!0),t.validate(),t},e.prototype.SaveChanges=function(){localStorage.setItem("Database",JSON.stringify(e.get().tables))},e.prototype.GetQAByID=function(t){var n=e.get().tables.QualityAssurances.find((function(e){return e.ID==t}));if(!n)throw"GET ERROR\n\nQA not found";return n},e.prototype.GetENGByID=function(t){var n=e.get().tables.Engineerings.find((function(e){return e.ID==t}));if(!n)throw"GET ERROR\n\nENG not found";return n},e.prototype.GetPURByID=function(t){var n=e.get().tables.Purchasings.find((function(e){return e.ID==t}));if(!n)throw"GET ERROR\n\nPUR not found";return n},e.prototype.GetNCRByID=function(t){var n=e.get().tables.NCRLogs.find((function(e){return e.ID==t}));if(!n)throw"GET ERROR\n\nNCR not found";return n},e.prototype.GetNCRByNumber=function(t){var n=e.get().tables.NCRLogs.find((function(e){return e.NCRNumber==t}));if(!n)throw"GET ERROR\n\n Item not found";return n},e.prototype.FindRow=function(e){return e.ID-1},e.prototype.InsertQA=function(t){var n=this.ValidateQA(t);if(!n.valid){var o="VALIDATION ERROR\n\n"+n.getMessage();throw console.error("Validation failed:",o),o}t.ID=e.get().tables.QualityAssurances.length+1,e.get().tables.QualityAssurances.push(t),console.log("INSERT SUCCESSFUL")},e.prototype.SaveQA=function(t){t.ID=e.get().tables.QualityAssurances.length+1,e.get().tables.QualityAssurances.push(t),console.log("INSERT SUCCESSFUL")},e.prototype.RemoveQA=function(t){var n=e.get(),o=n.tables.QualityAssurances.filter((function(e){return e.ID!=t}));if(o.length==n.tables.QualityAssurances.length)throw"DELETE ERROR\n\n Item not found";if(o.length!=n.tables.QualityAssurances.length-1)throw"DELETE ERROR\n\n Too many matches found";n.tables.QualityAssurances=o,console.log("DELETE SUCCESSFUL")},e.prototype.UpdateQA=function(t){e.get().tables.QualityAssurances[this.FindRow(t)]=t,console.log("UPDATE SUCCESSFUL")},e.prototype.InsertEng=function(t){var n=this.ValidateENG(t);if(!n.valid){var o="VALIDATION ERROR\n\n"+n.getMessage();throw console.log(n.getMessage()),o}t.ID=e.get().tables.QualityAssurances.length+1,e.get().tables.Engineerings.push(t),console.log("INSERT SUCCESSFUL")},e.prototype.SaveEng=function(t){t.ID=e.get().tables.QualityAssurances.length+1,e.get().tables.Engineerings.push(t),console.log("INSERT SUCCESSFUL")},e.prototype.UpdateEng=function(t){e.get().tables.Engineerings[this.FindRow(t)]=t,console.log("UPDATE SUCCESSFUL")},e.prototype.RemoveEng=function(t){var n=e.get(),o=n.tables.Engineerings.filter((function(e){return e.ID!=t}));if(o.length==n.tables.Engineerings.length)throw"DELETE ERROR\n\n Item not found";if(o.length!=n.tables.Engineerings.length-1)throw"DELETE ERROR\n\n Too many matches found";n.tables.Engineerings=o,console.log("DELETE SUCCESSFUL")},e.prototype.InsertPurch=function(t){var n=this.ValidatePUR(t);if(!n.valid){var o="VALIDATION ERROR\n\n"+n.getMessage();throw console.log(n.getMessage()),o}t.ID=e.get().tables.Purchasings.length+1,e.get().tables.Purchasings.push(t),console.log("INSERT SUCCESSFUL")},e.prototype.SavePurch=function(t){t.ID=e.get().tables.Purchasings.length+1,e.get().tables.Purchasings.push(t),console.log("INSERT SUCCESSFUL")},e.prototype.UpdatePurch=function(t){e.get().tables.Purchasings[this.FindRow(t)]=t,console.log("UPDATE SUCCESSFUL")},e.prototype.RemovePurch=function(t){var n=e.get(),o=n.tables.Purchasings.filter((function(e){return e.ID!=t}));if(o.length==n.tables.Purchasings.length)throw"DELETE ERROR\n\n Item not found";if(o.length!=n.tables.Purchasings.length-1)throw"DELETE ERROR\n\n Too many matches found";n.tables.Purchasings=o,console.log("DELETE SUCCESSFUL")},e.prototype.InsertNCR=function(t){var n=this.ValidateNCR(t);if(!n.valid){var o="VALIDATION ERROR\n\n"+n.getMessage();throw console.log(n.getMessage()),o}t.ID=e.get().tables.NCRLogs.length+1,e.get().tables.NCRLogs.push(t),console.log("INSERT SUCCESSFUL")},e.prototype.SaveNCR=function(t){t.ID=e.get().tables.NCRLogs.length+1,e.get().tables.NCRLogs.push(t),console.log("INSERT SUCCESSFUL")},e.prototype.UpdateNCR=function(t){e.get().tables.NCRLogs[this.FindRow(t)]=t,console.log("UPDATE SUCCESSFUL")},e.prototype.RemoveNCR=function(t){var n=e.get(),o=n.tables.NCRLogs.filter((function(e){return e.ID!=t}));if(o.length==n.tables.NCRLogs.length)throw"DELETE ERROR\n\n Item not found";if(o.length!=n.tables.NCRLogs.length-1)throw"DELETE ERROR\n\n Too many matches found";n.tables.NCRLogs=o,console.log("DELETE SUCCESSFUL")},e.prototype.GetUsersInQA=function(){return e.get().tables.Users.filter((function(e){return e.Roles.QA}))},e.prototype.GetUsersInENG=function(){return e.get().tables.Users.filter((function(e){return e.Roles.Engineer}))},e.prototype.GetUsersInPUR=function(){return e.get().tables.Users.filter((function(e){return e.Roles.Purchasing}))},e.prototype.GetUsersInAdmin=function(){return e.get().tables.Users.filter((function(e){return e.Roles.Admin}))},e.prototype.GetSupplierByID=function(t){var n=e.get().tables.Suppliers.find((function(e){return e.ID==t}));if(!n)throw"GET ERROR\n\n Supplier not found";return n},e.prototype.GetUserByID=function(t){var n=e.get().tables.Users.find((function(e){return e.ID==t}));if(!n)throw"GET ERROR\n\n User not found";return n},e}();e.Database=u}(s||(t.DatabaseLib=s={}))}},n={};e=function e(o){var r=n[o];if(void 0!==r)return r.exports;var s=n[o]={exports:{}};return t[o].call(s.exports,s,s.exports,e),s.exports}(651),document.addEventListener("DOMContentLoaded",(function(){localStorage.setItem("userID","null"),localStorage.setItem("logInDate","null");var t,n=localStorage.getItem("selectedNcrId"),o=e.DatabaseLib.Database.get().tables.Users,r=document.querySelector("#email"),s=document.querySelector("#password"),a=(document.querySelector("#form"),document.querySelector('#form button[type="submit"]')),i=document.querySelector("#options-log"),l=document.querySelector("#username"),u=document.querySelector("#inp-birth"),c=document.querySelector("#inp-phone"),g=document.querySelector("#confirm-password");function d(e){if(""!==e.target.value.trim()){if("email"===e.target.id&&!function(e){var t=/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e);return console.log(t),t}(e.target.value))return h("The email is not valid",e.target.parentElement),t[e.target.name],void(Object.values(t)?a.disabled=!0:a.disabled=!1);f(e.target.parentElement),a.addEventListener("click",(function(e){e.preventDefault();var t=null,s=null,a="n/a";if(n){var i=r.value.trim().toLocaleLowerCase(),l=o.some((function(e){return e.Email===i}));if(console.log(l),l){var u=o.find((function(e){return e.Email===i}));t=String(null==u?void 0:u.ID),s=String(null==u?void 0:u.LastLoggedIn),(null==u?void 0:u.Roles.Admin)&&(a="Admin"),(null==u?void 0:u.Roles.Engineer)&&(a="Engineer"),(null==u?void 0:u.Roles.Purchasing)&&(a="Purchasing"),(null==u?void 0:u.Roles.QA)&&(a="QA"),localStorage.setItem("userID",t),localStorage.setItem("logInDate",s),localStorage.setItem("userRole",a),console.log("User Found in the database"),window.location.href="/Dashboard/index.html"}else console.log("user Not Found in the database")}}))}else h("The ".concat(e.target.name," field is required"),e.target.parentElement)}function h(e,t){f(t);var n=t.querySelector(".error-message");n&&n.remove();var o=document.createElement("P");o.textContent=e,o.classList.add("error-message"),t.appendChild(o)}function f(e){var t=e.querySelector(".error-message");t&&t.remove()}function p(){var e=document.querySelector("#options-log");0!==e.selectedIndex&&(localStorage.setItem("userRole",e.value),window.location.href="/Dashboard")}null==r||r.addEventListener("blur",d),null==s||s.addEventListener("blur",d),null==l||l.addEventListener("blur",d),null==u||u.addEventListener("blur",d),null==c||c.addEventListener("blur",d),null==g||g.addEventListener("blur",d),null==i||i.addEventListener("click",p),null==i||i.addEventListener("change",p),console.log(o)}))})();